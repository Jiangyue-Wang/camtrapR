<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Collect all images of a species — getSpeciesImages • camtrapR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Collect all images of a species — getSpeciesImages" />
<meta property="og:description" content="This function will fetch all images of a particular species from all camera trap stations and copies these images to a new location. The images which are to be copied are found in one of 2 possible ways, 1) by providing an existing record table (created with recordTable) or 2) by reading species IDs from species directories or from metadata (calling ExifTool).
Earlier in the workflow, i.e., before running this function, images should have been renamed (with imageRename) to give images unique file names based on station ID and date/time." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">camtrapR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/camtrapr1.html">1. Organising raw camera trap images in camtrapR</a>
    </li>
    <li>
      <a href="../articles/camtrapr2.html">2. Identifying species and individuals in camtrapR</a>
    </li>
    <li>
      <a href="../articles/camtrapr3.html">3. Extracting Data from Camera Trapping Images and videos, creating occupancy &amp; secr input</a>
    </li>
    <li>
      <a href="../articles/camtrapr4.html">4. Data exploration and visualisation in camtrapR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jniedballa/camtrapR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collect all images of a species</h1>
    
    <div class="hidden name"><code>getSpeciesImages.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function will fetch all images of a particular species from all camera trap stations and copies these images to a new location. The images which are to be copied are found in one of 2 possible ways, 1) by providing an existing record table (created with <code><a href='recordTable.html'>recordTable</a></code>) or 2) by reading species IDs from species directories or from metadata (calling ExifTool).
Earlier in the workflow, i.e., before running this function, images should have been renamed (with <code><a href='imageRename.html'>imageRename</a></code>) to give images unique file names based on station ID and date/time.</p>
    </div>

    <pre class="usage"><span class='fu'>getSpeciesImages</span>(<span class='no'>species</span>,
  <span class='no'>recordTable</span>,
  <span class='kw'>speciesCol</span> <span class='kw'>=</span> <span class='st'>"Species"</span>,
  <span class='kw'>stationCol</span> <span class='kw'>=</span> <span class='st'>"Station"</span>,
  <span class='no'>inDir</span>,
  <span class='no'>outDir</span>,
  <span class='kw'>createStationSubfolders</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>IDfrom</span>,
  <span class='no'>metadataSpeciesTag</span>,
  <span class='kw'>metadataHierarchyDelimitor</span> <span class='kw'>=</span> <span class='st'>"|"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>species</th>
      <td><p>character. Species whose images are to be fetched</p></td>
    </tr>
    <tr>
      <th>recordTable</th>
      <td><p>data frame. A data frame as returned by function <code><a href='recordTable.html'>recordTable</a></code>. If you specify this argument, do not specify <code>inDir</code></p></td>
    </tr>
    <tr>
      <th>speciesCol</th>
      <td><p>character. Name of the column specifying species ID in <code>recordTable</code>. Only required if <code>recordTable</code> is defined</p></td>
    </tr>
    <tr>
      <th>stationCol</th>
      <td><p>character. Name of the column specifying station ID in <code>recordTable</code>. Only required if <code>recordTable</code> is defined</p></td>
    </tr>
    <tr>
      <th>inDir</th>
      <td><p>character. Directory containing identified (species level) camera trap images sorted into station subdirectories (e.g. inDir/StationA/). If you specify this argument, do not specify <code>recordTable</code>.</p></td>
    </tr>
    <tr>
      <th>outDir</th>
      <td><p>character. Directory in which to save species images. A species subdirectory will be created in <code>outDir</code> automatically.</p></td>
    </tr>
    <tr>
      <th>createStationSubfolders</th>
      <td><p>logical. Save images in station directories within the newly created species directory in <code>outDir</code>?</p></td>
    </tr>
    <tr>
      <th>IDfrom</th>
      <td><p>character. Read species ID from image metadata ("metadata") of from species directory names ("directory")? Only required if <code>inDir</code> is defined.</p></td>
    </tr>
    <tr>
      <th>metadataSpeciesTag</th>
      <td><p>character. The species ID tag name in image metadata (if IDfrom = "metadata"). Only required if <code>inDir</code> is defined.</p></td>
    </tr>
    <tr>
      <th>metadataHierarchyDelimitor</th>
      <td><p>character. The character delimiting hierarchy levels in image metadata tags in field "HierarchicalSubject". Either "|" or ":" (if IDfrom = "metadata"). Only required if <code>inDir</code> is defined and <code>IDfrom = "metadata"</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>The function finds the images to be copied by either consulting a record table created with <code><a href='recordTable.html'>recordTable</a></code> or by reading species IDs from images. The former is considerable faster because ExifTool is not called, but requires images to be in precisely the location given by the columns <code>Directory</code> and <code>FileName</code> in <code>recordTable</code>. To use this feature, provide the function with a record table in argument <code>recordTable</code>.</p>
<p>If you'd rather read species IDs from images within the function (to make sure all file paths are correct), images need to be in the directory structure required by the package, e.g.</p>
<p>&gt; inDir/Station/Species</p>
<p>or</p>
<p>&gt; inDir/Station/Camera/Species</p>
<p>if using species directories for species IDs, and</p>
<p>&gt; inDir/Station</p>
<p>or</p>
<p>&gt; inDir/Station/Camera</p>
<p>if reading IDs from species metadata tags. In the latter case, only station directories are needed.
In any case, the argument <code>species</code> must match species IDs (either the <code>speciesCol</code> in <code>recordTable</code>, species directory names or species metadata tags).</p>
<p>Before running the function, first rename the images using function <code><a href='imageRename.html'>imageRename</a></code> to provide unique file names and prevent several images from having the same name (if generic names like "IMGP0001.jpg" are used). The function will not copy images if there are duplicate filenames to prevent overwriting images unintentionally.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.frame</code> with old and new directories and file names and the copy status (<code>copy_ok</code>; TRUE if copying was successful, FALSE if not).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># define image directory</span>
<span class='no'>wd_images_ID</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"pictures/sample_images"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"camtrapR"</span>)
<span class='no'>wd_images_ID_copy</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"sample_species_images"</span>)

<span class='no'>species_to_copy</span> <span class='kw'>&lt;-</span> <span class='st'>"VTA"</span>    <span class='co'># = Viverra tangalunga, Malay Civet</span>

<span class='no'>specImagecopy</span> <span class='kw'>&lt;-</span> <span class='fu'>getSpeciesImages</span>(<span class='kw'>species</span>                 <span class='kw'>=</span> <span class='no'>species_to_copy</span>,
                                  <span class='kw'>inDir</span>                   <span class='kw'>=</span> <span class='no'>wd_images_ID</span>,
                                  <span class='kw'>outDir</span>                  <span class='kw'>=</span> <span class='no'>wd_images_ID_copy</span>,
                                  <span class='kw'>createStationSubfolders</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                                  <span class='kw'>IDfrom</span>                  <span class='kw'>=</span> <span class='st'>"directory"</span>
                                  )
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Juergen Niedballa</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Juergen Niedballa, Alexandre Courtiol, Rahel Sollmann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


