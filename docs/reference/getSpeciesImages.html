<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Collect all images of a species — getSpeciesImages • camtrapR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Collect all images of a species — getSpeciesImages"><meta property="og:description" content="This function will fetch all images of a particular species from all camera
trap stations and copies these images to a new location. The images which
are to be copied are found in one of 2 possible ways, 1) by providing an
existing record table (created with recordTable) or 2) by
reading species IDs from species directories or from metadata (calling
ExifTool). Earlier in the workflow, i.e., before running this function,
images should have been renamed (with imageRename) to give
images unique file names based on station ID and date/time."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">camtrapR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/camtrapr1.html">1. Organising raw camera trap images in camtrapR</a>
    </li>
    <li>
      <a href="../articles/camtrapr2.html">2. Species and Individual Identification</a>
    </li>
    <li>
      <a href="../articles/camtrapr3.html">3. Data Extraction from Images and videos, creating occupancy &amp; secr input</a>
    </li>
    <li>
      <a href="../articles/camtrapr4.html">4. Data exploration and visualisation</a>
    </li>
    <li>
      <a href="../articles/camtrapr5.html">5. Multi-species occupancy models</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jniedballa/camtrapR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Collect all images of a species</h1>
    <small class="dont-index">Source: <a href="https://github.com/jniedballa/camtrapR/blob/HEAD/R/getSpeciesImages.R" class="external-link"><code>R/getSpeciesImages.R</code></a></small>
    <div class="hidden name"><code>getSpeciesImages.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function will fetch all images of a particular species from all camera
trap stations and copies these images to a new location. The images which
are to be copied are found in one of 2 possible ways, 1) by providing an
existing record table (created with <code><a href="recordTable.html">recordTable</a></code>) or 2) by
reading species IDs from species directories or from metadata (calling
ExifTool). Earlier in the workflow, i.e., before running this function,
images should have been renamed (with <code><a href="imageRename.html">imageRename</a></code>) to give
images unique file names based on station ID and date/time.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getSpeciesImages</span><span class="op">(</span></span>
<span>  <span class="va">species</span>,</span>
<span>  <span class="va">recordTable</span>,</span>
<span>  speciesCol <span class="op">=</span> <span class="st">"Species"</span>,</span>
<span>  stationCol <span class="op">=</span> <span class="st">"Station"</span>,</span>
<span>  <span class="va">inDir</span>,</span>
<span>  <span class="va">outDir</span>,</span>
<span>  createStationSubfolders <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">IDfrom</span>,</span>
<span>  <span class="va">metadataSpeciesTag</span>,</span>
<span>  metadataHierarchyDelimitor <span class="op">=</span> <span class="st">"|"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>species</dt>
<dd><p>character. Species whose images are to be fetched</p></dd>


<dt>recordTable</dt>
<dd><p>data frame. A data frame as returned by function
<code><a href="recordTable.html">recordTable</a></code>. If you specify this argument, do not specify
<code>inDir</code></p></dd>


<dt>speciesCol</dt>
<dd><p>character. Name of the column specifying species ID in
<code>recordTable</code>. Only required if <code>recordTable</code> is defined</p></dd>


<dt>stationCol</dt>
<dd><p>character. Name of the column specifying station ID in
<code>recordTable</code>. Only required if <code>recordTable</code> is defined</p></dd>


<dt>inDir</dt>
<dd><p>character. Directory containing identified (species level)
camera trap images sorted into station subdirectories (e.g.
inDir/StationA/). If you specify this argument, do not specify
<code>recordTable</code>.</p></dd>


<dt>outDir</dt>
<dd><p>character. Directory in which to save species images. A
species subdirectory will be created in <code>outDir</code> automatically.</p></dd>


<dt>createStationSubfolders</dt>
<dd><p>logical. Save images in station directories
within the newly created species directory in <code>outDir</code>?</p></dd>


<dt>IDfrom</dt>
<dd><p>character. Read species ID from image metadata ("metadata") of
from species directory names ("directory")? Only required if <code>inDir</code> is
defined.</p></dd>


<dt>metadataSpeciesTag</dt>
<dd><p>character. The species ID tag name in image
metadata (if IDfrom = "metadata"). Only required if <code>inDir</code> is defined.</p></dd>


<dt>metadataHierarchyDelimitor</dt>
<dd><p>character. The character delimiting
hierarchy levels in image metadata tags in field "HierarchicalSubject".
Either "|" or ":" (if IDfrom = "metadata"). Only required if <code>inDir</code> is
defined and <code>IDfrom = "metadata"</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>data.frame</code> with old and new directories and file names and
the copy status (<code>copy_ok</code>; TRUE if copying was successful, FALSE if
not).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function finds the images to be copied by either consulting a record
table created with <code><a href="recordTable.html">recordTable</a></code> or by reading species IDs from
images. The former is considerable faster because ExifTool is not called,
but requires images to be in precisely the location given by the columns
<code>Directory</code> and <code>FileName</code> in <code>recordTable</code>. To use this
feature, provide the function with a record table in argument
<code>recordTable</code>.</p>
<p>If you'd rather read species IDs from images within the function (to make
sure all file paths are correct), images need to be in the directory
structure required by the package, e.g.</p>
<p>&gt; inDir/Station/Species</p>
<p>or</p>
<p>&gt; inDir/Station/Camera/Species</p>
<p>if using species directories for species IDs, and</p>
<p>&gt; inDir/Station</p>
<p>or</p>
<p>&gt; inDir/Station/Camera</p>
<p>if reading IDs from species metadata tags. In the latter case, only station
directories are needed. In any case, the argument <code>species</code> must match
species IDs (either the <code>speciesCol</code> in <code>recordTable</code>, species
directory names or species metadata tags).</p>
<p>Before running the function, first rename the images using function
<code><a href="imageRename.html">imageRename</a></code> to provide unique file names and prevent several
images from having the same name (if generic names like "IMGP0001.jpg" are
used). The function will not copy images if there are duplicate filenames to
prevent overwriting images unintentionally.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Juergen Niedballa</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># define image directory</span></span></span>
<span class="r-in"><span><span class="va">wd_images_ID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"pictures/sample_images_species_dir"</span>, package <span class="op">=</span> <span class="st">"camtrapR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wd_images_ID_copy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"sample_images_species_dir"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">species_to_copy</span> <span class="op">&lt;-</span> <span class="st">"VTA"</span>    <span class="co"># = Viverra tangalunga, Malay Civet</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">specImagecopy</span> <span class="op">&lt;-</span> <span class="fu">getSpeciesImages</span><span class="op">(</span>species                 <span class="op">=</span> <span class="va">species_to_copy</span>,</span></span>
<span class="r-in"><span>                                  inDir                   <span class="op">=</span> <span class="va">wd_images_ID</span>,</span></span>
<span class="r-in"><span>                                  outDir                  <span class="op">=</span> <span class="va">wd_images_ID_copy</span>,</span></span>
<span class="r-in"><span>                                  createStationSubfolders <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                  IDfrom                  <span class="op">=</span> <span class="st">"directory"</span></span></span>
<span class="r-in"><span>                                  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juergen Niedballa, Alexandre Courtiol, Rahel Sollmann.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

