<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Species detection histories for occupancy analyses — detectionHistory • camtrapR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Species detection histories for occupancy analyses — detectionHistory" />
<meta property="og:description" content="This function generates species detection histories that can be used in occupancy analyses, e.g. with package unmarked. It generates detection histories in different formats, with adjustable occasion length and occasion start time." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">camtrapR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/camtrapr1.html">1. Organising raw camera trap images in camtrapR</a>
    </li>
    <li>
      <a href="../articles/camtrapr2.html">2. Identifying species and individuals in camtrapR</a>
    </li>
    <li>
      <a href="../articles/camtrapr3.html">3. Extracting Data from Camera Trapping Images and videos, creating occupancy &amp; secr input</a>
    </li>
    <li>
      <a href="../articles/camtrapr4.html">4. Data exploration and visualisation in camtrapR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jniedballa/camtrapR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Species detection histories for occupancy analyses</h1>
    
    <div class="hidden name"><code>detectionHistory.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function generates species detection histories that can be used in occupancy analyses, e.g. with package <a href='https://rdrr.io/pkg/unmarked/man/unmarked-package.html'>unmarked</a>. It generates detection histories in different formats, with adjustable occasion length and occasion start time.</p>
    </div>

    <pre class="usage"><span class='fu'>detectionHistory</span>(<span class='no'>recordTable</span>,
 <span class='no'>species</span>,
 <span class='no'>camOp</span>,
 <span class='kw'>output</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"binary"</span>, <span class='st'>"count"</span>),
 <span class='kw'>stationCol</span> <span class='kw'>=</span> <span class='st'>"Station"</span>,
 <span class='kw'>speciesCol</span> <span class='kw'>=</span> <span class='st'>"Species"</span>,
 <span class='kw'>recordDateTimeCol</span> <span class='kw'>=</span> <span class='st'>"DateTimeOriginal"</span>,
 <span class='kw'>recordDateTimeFormat</span> <span class='kw'>=</span> <span class='st'>"%Y-%m-%d %H:%M:%S"</span>,
 <span class='no'>occasionLength</span>,
 <span class='no'>minActiveDaysPerOccasion</span>,
 <span class='no'>maxNumberDays</span>,
 <span class='no'>day1</span>,
 <span class='no'>buffer</span>,
 <span class='kw'>includeEffort</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
 <span class='kw'>scaleEffort</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='kw'>occasionStartTime</span> <span class='kw'>=</span> <span class='fl'>0</span>,
 <span class='kw'>datesAsOccasionNames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='no'>timeZone</span>,
 <span class='kw'>writecsv</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='no'>outDir</span>,
 <span class='no'>unmarkedMultFrameInput</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>recordTable</th>
      <td><p>data.frame. the record table created by <code><a href='recordTable.html'>recordTable</a></code></p></td>
    </tr>
    <tr>
      <th>species</th>
      <td><p>character. the species for which to compute the detection history</p></td>
    </tr>
    <tr>
      <th>camOp</th>
      <td><p>The camera operability matrix as created by <code><a href='cameraOperation.html'>cameraOperation</a></code></p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>character. Return binary detections ("binary") or counts of detections ("count")</p></td>
    </tr>
    <tr>
      <th>stationCol</th>
      <td><p>character. name of the column specifying Station ID in <code>recordTable</code></p></td>
    </tr>
    <tr>
      <th>speciesCol</th>
      <td><p>character. name of the column specifying species in <code>recordTable</code></p></td>
    </tr>
    <tr>
      <th>recordDateTimeCol</th>
      <td><p>character. name of the column specifying date and time in <code>recordTable</code></p></td>
    </tr>
    <tr>
      <th>recordDateTimeFormat</th>
      <td><p>character. Format of column <code>recordDateTimeCol</code> in <code>recordTable</code></p></td>
    </tr>
    <tr>
      <th>occasionLength</th>
      <td><p>integer. occasion length in days</p></td>
    </tr>
    <tr>
      <th>minActiveDaysPerOccasion</th>
      <td><p>integer. minimum number of active trap days for occasions to be included (optional)</p></td>
    </tr>
    <tr>
      <th>maxNumberDays</th>
      <td><p>integer. maximum number of trap days per station (optional)</p></td>
    </tr>
    <tr>
      <th>day1</th>
      <td><p>character. When should occasions begin: station setup date ("station"), first day of survey ("survey"), a specific date (e.g. "2015-12-31")?</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>integer. Makes the first occasion begin a number of days after station setup. (optional)</p></td>
    </tr>
    <tr>
      <th>includeEffort</th>
      <td><p>logical. Compute trapping effort (number of active camera trap days per station and occasion)?</p></td>
    </tr>
    <tr>
      <th>scaleEffort</th>
      <td><p>logical. scale and center effort matrix to mean = 0 and sd = 1?</p></td>
    </tr>
    <tr>
      <th>occasionStartTime</th>
      <td><p>integer. time of day (the full hour) at which to begin occasions.</p></td>
    </tr>
    <tr>
      <th>datesAsOccasionNames</th>
      <td><p>If <code>day1 = "survey"</code>, occasion names in the detection history will be composed of first and last day of that occasion.</p></td>
    </tr>
    <tr>
      <th>timeZone</th>
      <td><p>character. Must be a value returned by <code><a href='https://rdrr.io/r/base/timezones.html'>OlsonNames</a></code></p></td>
    </tr>
    <tr>
      <th>writecsv</th>
      <td><p>logical. Should the detection history be saved as a .csv?</p></td>
    </tr>
    <tr>
      <th>outDir</th>
      <td><p>character. Directory into which detection history .csv file is saved</p></td>
    </tr>
    <tr>
      <th>unmarkedMultFrameInput</th>
      <td><p>logical. Return input for multi-season occupancy models in unmarked (argument "y" in <code><a href='https://rdrr.io/pkg/unmarked/man/unmarkedMultFrame.html'>unmarkedMultFrame</a></code>?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>The function computes a species detection matrix, either as a detection-by-date or a detection-by-occasion matrix. <code>day1</code> defines if each stations detection history will begin on that station's setup day (<code>day1 = "station"</code>) or if all station's detection histories have a common origin (the day the first station was set up if <code>day1 = "survey"</code> or a fixed date if, e.g. <code>day1 = "2015-12-31"</code>). If <code>day1</code> is a date, <code><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></code> must be able to understand it. The most suitable format is "YYYY-MM-DD", e.g. "2015-12-31".</p>
<p><code>output</code> is analogous to <code><a href='spatialDetectionHistory.html'>spatialDetectionHistory</a></code>. It makes the function return either counts of detections during occasions, or a binary indicator for whether the species was detected.</p>
<p><code>includeEffort</code> controls whether an additional effort matrix is computed or not. This also affects the detection matrices. If <code>includeEffort = FALSE</code>, all occasions in which a station was not set up or malfunctioning (NA or 0 in <code>camOp</code>) will result in NAs in the detection history. If <code>includeEffort = TRUE</code>, the record history will only contain 0 and 1, and no NAs. The effort matrix can then be included in occupancy models as a (continuous) observation covariate to estimate the effect of effort on detection probability.</p>
<p>The number of days that are aggregated is controlled by <code>occasionLength</code>. <code>occasionStartTime</code> can be used to make occasions begin another hour than midnight (the default). This may be relevant for nocturnal animals, in which 1 whole night would be considered an occasion.
The values of <code>stationCol</code> in <code>recordTable</code> must be matched by the row names of <code>camOp</code> (case-insensitive), otherwise an error is raised.</p>
<p><code>recordDateTimeFormat</code> defaults to the "YYYY-MM-DD HH:MM:SS" convention, e.g. "2014-09-30 22:59:59". <code>recordDateTimeFormat</code> can be interpreted either by base-R via <code><a href='https://rdrr.io/r/base/strptime.html'>strptime</a></code> or in <span class="pkg">lubridate</span> via <code><a href='http://lubridate.tidyverse.org/reference/parse_date_time.html'>parse_date_time</a></code> (argument "orders"). <span class="pkg">lubridate</span> will be used if there are no "%" characters in <code>recordDateTimeFormat</code>.</p>
<p>For "YYYY-MM-DD HH:MM:SS", <code>recordDateTimeFormat</code> would be either "%Y-%m-%d %H:%M:%S" or "ymd HMS". For details on how to specify date and time formats in R see <code><a href='https://rdrr.io/r/base/strptime.html'>strptime</a></code> or <code><a href='http://lubridate.tidyverse.org/reference/parse_date_time.html'>parse_date_time</a></code>.</p>
<p>If the camera operation matrix (<code>camOp</code>) was created for a multi-season study (argument <code>sesssionCol</code> in <code><a href='cameraOperation.html'>cameraOperation</a></code> was set, it will be detected automatically. Output can be for unmarkedMultFrame by setting <code>unmarkedMultFrameInput = TRUE</code>. Each row corresponds to a site, and the columns are in season-major, occasion-minor order, e.g. season1-occasion1, season1-occasion2, etc.).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depending on the value of <code>includeEffort</code> and <code>scaleEffort</code>, a list with either 1, 2 or 3 elements. The first element is the species detection history. The second is the optional effort matrix and the third contains the effort scaling parameters.</p>
<dt>detection_history</dt><dd><p>A species detection matrix</p></dd>
  <dt>effort</dt><dd><p>A matrix giving the number of active camera trap days per station and occasion (= camera trapping effort). It is only returned if <code>includeEffort = TRUE</code></p></dd>
  <dt>effort_scaling_parameters</dt><dd><p>Scaling parameters of the effort matrix. It is only returned if <code>includeEffort</code> and <code>scaleEffort</code> are <code>TRUE</code></p></dd>

    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    <p>Setting <code>output = "count"</code> returns a count of detections, not individuals. We strongly advise against using it as input for models of animal abundance (such as N-Mixture models) models which use counts as input.</p>
<p>Please note the section about defining argument <code>timeZone</code> in the vignette on data extraction (accessible via <code>vignette("DataExtraction")</code> or online (<a href='https://cran.r-project.org/package=camtrapR/vignettes/camtrapr3.html'>https://cran.r-project.org/package=camtrapR/vignettes/camtrapr3.html</a>)).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># define image directory</span>
<span class='no'>wd_images_ID</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"pictures/sample_images"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"camtrapR"</span>)

<span class='co'># load station information</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>camtraps</span>)

<span class='co'># create camera operation matrix</span>
<span class='no'>camop_no_problem</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cameraOperation.html'>cameraOperation</a></span>(<span class='kw'>CTtable</span>      <span class='kw'>=</span> <span class='no'>camtraps</span>,
                                    <span class='kw'>stationCol</span>   <span class='kw'>=</span> <span class='st'>"Station"</span>,
                                    <span class='kw'>setupCol</span>     <span class='kw'>=</span> <span class='st'>"Setup_date"</span>,
                                    <span class='kw'>retrievalCol</span> <span class='kw'>=</span> <span class='st'>"Retrieval_date"</span>,
                                    <span class='kw'>hasProblems</span>  <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                                    <span class='kw'>dateFormat</span>   <span class='kw'>=</span> <span class='st'>"%d/%m/%Y"</span>
)

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/Sys.which.html'>Sys.which</a></span>(<span class='st'>"exiftool"</span>) <span class='kw'>!=</span> <span class='st'>""</span>){        <span class='co'># only run this function if ExifTool is available</span>
<span class='no'>recordTableSample</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='recordTable.html'>recordTable</a></span>(<span class='kw'>inDir</span>               <span class='kw'>=</span> <span class='no'>wd_images_ID</span>,
                                 <span class='kw'>IDfrom</span>              <span class='kw'>=</span> <span class='st'>"directory"</span>,
                                 <span class='kw'>minDeltaTime</span>        <span class='kw'>=</span> <span class='fl'>60</span>,
                                 <span class='kw'>deltaTimeComparedTo</span> <span class='kw'>=</span> <span class='st'>"lastRecord"</span>,
                                 <span class='kw'>exclude</span>             <span class='kw'>=</span> <span class='st'>"NO_ID"</span>,
                                 <span class='kw'>timeZone</span>            <span class='kw'>=</span> <span class='st'>"Asia/Kuala_Lumpur"</span>
)
}
}
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>recordTableSample</span>)    <span class='co'># load the record history, as created above</span>


<span class='co'># compute detection history for a species</span>

<span class='co'># without trapping effort</span>
<span class='no'>DetHist1</span> <span class='kw'>&lt;-</span> <span class='fu'>detectionHistory</span>(<span class='kw'>recordTable</span>         <span class='kw'>=</span> <span class='no'>recordTableSample</span>,
                            <span class='kw'>camOp</span>                <span class='kw'>=</span> <span class='no'>camop_no_problem</span>,
                            <span class='kw'>stationCol</span>           <span class='kw'>=</span> <span class='st'>"Station"</span>,
                            <span class='kw'>speciesCol</span>           <span class='kw'>=</span> <span class='st'>"Species"</span>,
                            <span class='kw'>recordDateTimeCol</span>    <span class='kw'>=</span> <span class='st'>"DateTimeOriginal"</span>,
                            <span class='kw'>species</span>              <span class='kw'>=</span> <span class='st'>"VTA"</span>,
                            <span class='kw'>occasionLength</span>       <span class='kw'>=</span> <span class='fl'>7</span>,
                            <span class='kw'>day1</span>                 <span class='kw'>=</span> <span class='st'>"station"</span>,
                            <span class='kw'>datesAsOccasionNames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                            <span class='kw'>includeEffort</span>        <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                            <span class='kw'>timeZone</span>             <span class='kw'>=</span> <span class='st'>"Asia/Kuala_Lumpur"</span>
)

<span class='no'>DetHist1</span>                     <span class='co'># this is a list with 1 element</span></div><div class='output co'>#&gt; $detection_history
#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  0  1  0  0  1  0 NA
#&gt; StationB  0  1  0  1  0  0 NA
#&gt; StationC  0  0  1  0  0  0 NA
#&gt; </div><div class='input'><span class='no'>DetHist1</span>$<span class='no'>detection_history</span>   <span class='co'># this is the contained detection/non-detection matrix</span></div><div class='output co'>#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  0  1  0  0  1  0 NA
#&gt; StationB  0  1  0  1  0  0 NA
#&gt; StationC  0  0  1  0  0  0 NA</div><div class='input'>

<span class='co'># with effort / using base R to define recordDateTimeFormat</span>
<span class='no'>DetHist2</span> <span class='kw'>&lt;-</span> <span class='fu'>detectionHistory</span>(<span class='kw'>recordTable</span>          <span class='kw'>=</span> <span class='no'>recordTableSample</span>,
                             <span class='kw'>camOp</span>                <span class='kw'>=</span> <span class='no'>camop_no_problem</span>,
                             <span class='kw'>stationCol</span>           <span class='kw'>=</span> <span class='st'>"Station"</span>,
                             <span class='kw'>speciesCol</span>           <span class='kw'>=</span> <span class='st'>"Species"</span>,
                             <span class='kw'>recordDateTimeCol</span>    <span class='kw'>=</span> <span class='st'>"DateTimeOriginal"</span>,
                             <span class='kw'>species</span>              <span class='kw'>=</span> <span class='st'>"VTA"</span>,
                             <span class='kw'>occasionLength</span>       <span class='kw'>=</span> <span class='fl'>7</span>,
                             <span class='kw'>day1</span>                 <span class='kw'>=</span> <span class='st'>"station"</span>,
                             <span class='kw'>datesAsOccasionNames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                             <span class='kw'>includeEffort</span>        <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                             <span class='kw'>scaleEffort</span>          <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                             <span class='kw'>timeZone</span>             <span class='kw'>=</span> <span class='st'>"Asia/Kuala_Lumpur"</span>
)

<span class='no'>DetHist2</span>$<span class='no'>detection_history</span>  <span class='co'># detection history  (alternatively, use: DetHist2[[1]])</span></div><div class='output co'>#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  0  1  0  0  1  0  0
#&gt; StationB  0  1  0  1  0  0  0
#&gt; StationC  0  0  1  0  0  0  0</div><div class='input'><span class='no'>DetHist2</span>$<span class='no'>effort</span>             <span class='co'># effort (alternatively, use: DetHist2[[2]])</span></div><div class='output co'>#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  7  7  7  7  7  7  1
#&gt; StationB  7  7  7  7  7  7  2
#&gt; StationC  7  7  7  7  7  7  2</div><div class='input'>
<span class='co'># with effort / using lubridate package to define recordDateTimeFormat</span>
<span class='no'>DetHist2_lub</span> <span class='kw'>&lt;-</span> <span class='fu'>detectionHistory</span>(<span class='kw'>recordTable</span>          <span class='kw'>=</span> <span class='no'>recordTableSample</span>,
                             <span class='kw'>camOp</span>                <span class='kw'>=</span> <span class='no'>camop_no_problem</span>,
                             <span class='kw'>stationCol</span>           <span class='kw'>=</span> <span class='st'>"Station"</span>,
                             <span class='kw'>speciesCol</span>           <span class='kw'>=</span> <span class='st'>"Species"</span>,
                             <span class='kw'>recordDateTimeCol</span>    <span class='kw'>=</span> <span class='st'>"DateTimeOriginal"</span>,
                             <span class='kw'>recordDateTimeFormat</span> <span class='kw'>=</span> <span class='st'>"ymd HMS"</span>,
                             <span class='kw'>species</span>              <span class='kw'>=</span> <span class='st'>"VTA"</span>,
                             <span class='kw'>occasionLength</span>       <span class='kw'>=</span> <span class='fl'>7</span>,
                             <span class='kw'>day1</span>                 <span class='kw'>=</span> <span class='st'>"station"</span>,
                             <span class='kw'>datesAsOccasionNames</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                             <span class='kw'>includeEffort</span>        <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                             <span class='kw'>scaleEffort</span>          <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                             <span class='kw'>timeZone</span>             <span class='kw'>=</span> <span class='st'>"Asia/Kuala_Lumpur"</span>
)

<span class='no'>DetHist2_lub</span>$<span class='no'>detection_history</span>  <span class='co'># detection history  (alternatively, use: DetHist2[[1]])</span></div><div class='output co'>#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  0  1  0  0  1  0  0
#&gt; StationB  0  1  0  1  0  0  0
#&gt; StationC  0  0  1  0  0  0  0</div><div class='input'><span class='no'>DetHist2_lub</span>$<span class='no'>effort</span>             <span class='co'># effort (alternatively, use: DetHist2_lub[[2]])</span></div><div class='output co'>#&gt;          o1 o2 o3 o4 o5 o6 o7
#&gt; StationA  7  7  7  7  7  7  1
#&gt; StationB  7  7  7  7  7  7  2
#&gt; StationC  7  7  7  7  7  7  2</div><div class='input'>

<span class='co'># multi-season detection history</span>

<span class='co'># load multi-season data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>camtrapsMultiSeason</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>recordTableSampleMultiSeason</span>)

<span class='co'># multi-season camera operation matrix</span>
<span class='no'>camop_season</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cameraOperation.html'>cameraOperation</a></span>(<span class='kw'>CTtable</span>          <span class='kw'>=</span> <span class='no'>camtrapsMultiSeason</span>,
                                    <span class='kw'>stationCol</span>   <span class='kw'>=</span> <span class='st'>"Station"</span>,
                                    <span class='kw'>setupCol</span>     <span class='kw'>=</span> <span class='st'>"Setup_date"</span>,
                                    <span class='kw'>sessionCol</span>   <span class='kw'>=</span> <span class='st'>"session"</span>,
                                    <span class='kw'>retrievalCol</span> <span class='kw'>=</span> <span class='st'>"Retrieval_date"</span>,
                                    <span class='kw'>hasProblems</span>  <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                                    <span class='kw'>dateFormat</span>   <span class='kw'>=</span> <span class='st'>"%d/%m/%Y"</span>
)

<span class='co'># multi-season detection history</span>
<span class='no'>DetHist_multi</span> <span class='kw'>&lt;-</span> <span class='fu'>detectionHistory</span>(<span class='kw'>recordTable</span>      <span class='kw'>=</span> <span class='no'>recordTableSampleMultiSeason</span>,
                            <span class='kw'>camOp</span>                  <span class='kw'>=</span> <span class='no'>camop_season</span>,
                            <span class='kw'>stationCol</span>             <span class='kw'>=</span> <span class='st'>"Station"</span>,
                            <span class='kw'>speciesCol</span>             <span class='kw'>=</span> <span class='st'>"Species"</span>,
                            <span class='kw'>species</span>                <span class='kw'>=</span> <span class='st'>"VTA"</span>,
                            <span class='kw'>occasionLength</span>         <span class='kw'>=</span> <span class='fl'>10</span>,
                            <span class='kw'>day1</span>                   <span class='kw'>=</span> <span class='st'>"station"</span>,
                            <span class='kw'>recordDateTimeCol</span>      <span class='kw'>=</span> <span class='st'>"DateTimeOriginal"</span>,
                            <span class='kw'>includeEffort</span>          <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                            <span class='kw'>scaleEffort</span>            <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                            <span class='kw'>timeZone</span>               <span class='kw'>=</span> <span class='st'>"UTC"</span>,
                            <span class='kw'>unmarkedMultFrameInput</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='no'>DetHist_multi</span></div><div class='output co'>#&gt; $detection_history
#&gt;          o1 o2 o3 o4 o5 o6 o7 o8 o1 o2 o3 o4 o5 o6 o7 o8
#&gt; StationA  1  0  0  1  0 NA NA NA  1  0  0  1  0 NA NA NA
#&gt; StationB  0  1  1  0  0 NA NA NA  0  1  1  0  0 NA NA NA
#&gt; StationC  0  0  1  0 NA NA NA NA  0  0  1  0 NA NA NA NA
#&gt; StationD NA NA NA NA NA NA NA NA  0  0  0  0  0  0  0  0
#&gt; 
#&gt; $effort
#&gt;          o1 o2 o3 o4 o5 o6 o7 o8 o1 o2 o3 o4 o5 o6 o7 o8
#&gt; StationA 10 10 10 10  3 NA NA NA 10 10 10 10  3 NA NA NA
#&gt; StationB 10 10 10 10  4 NA NA NA 10 10 10 10  4 NA NA NA
#&gt; StationC 10 10 10  8 NA NA NA NA 10 10 10  8 NA NA NA NA
#&gt; StationD NA NA NA NA NA NA NA NA 10 10 10 10  6  3 10  5
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#warning">Warning</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Juergen Niedballa</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Juergen Niedballa, Alexandre Courtiol, Rahel Sollmann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


